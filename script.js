const translations = {
    "zh-CN": {
        "title": "âœ¨ AES åŠ å¯†é”",
        "inputContent": "1. å¾…å¤„ç†å†…å®¹ï¼ˆæ˜Žæ–‡/å¯†æ–‡ï¼‰",
        "inputContentPlaceholder": "è¯·è¾“å…¥æ˜Žæ–‡ï¼ˆåŠ å¯†ï¼‰æˆ–å¯†æ–‡ï¼ˆè§£å¯†ï¼‰...",
        "paste": "ç²˜è´´",
        "roomCode": "2. æˆ¿é—´ç ï¼ˆå¯è¾“å…¥/è‡ªåŠ¨ç”Ÿæˆï¼Œå«å¯†é’¥ï¼‰",
        "roomCodePlaceholder": "è¾“å…¥æˆ–ç‚¹å‡»ç”Ÿæˆç‹¬ä¸€æ— äºŒçš„æˆ¿é—´ç ",
        "generateRoomCode": "ç”Ÿæˆæˆ¿é—´ç ",
        "copy": "å¤åˆ¶",
        "inputRoomCode": "3. è¾“å…¥æˆ¿é—´ç ï¼ˆç”¨äºŽè§£å¯†ï¼‰",
        "inputRoomCodePlaceholder": "è¯·è¾“å…¥å¯¹æ–¹åˆ†äº«çš„æˆ¿é—´ç ...",
        "encrypt": "åŠ å¯†",
        "decrypt": "è§£å¯†",
        "encryptResult": "åŠ å¯†ç»“æžœ",
        "encryptResultPlaceholder": "åŠ å¯†åŽçš„å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...",
        "decryptResult": "è§£å¯†ç»“æžœ",
        "decryptResultPlaceholder": "è§£å¯†åŽçš„å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...",
        "tip": "ðŸ”’ æç¤ºï¼šæˆ¿é—´ç åŒ…å«åŠ å¯†å¯†é’¥ï¼Œè¯·å‹¿æ³„éœ²ç»™æ— å…³äººå‘˜ | åŠ å¯†é‡‡ç”¨AES-128-CBCç®—æ³•ï¼Œå®‰å…¨å¯é  | æ•°æ®ä¸ä¼šä¸Šä¼ æœåŠ¡å™¨",
        "copySuccess": "å¤åˆ¶æˆåŠŸï¼",
        "copyEmpty": "âŒ å†…å®¹ä¸ºç©ºï¼Œæ— æ³•å¤åˆ¶ï¼",
        "copyFailed": "âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ï¼",
        "pasteFailed": "âŒ ç²˜è´´å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨ç²˜è´´ï¼",
        "roomCodeFormatError": "âŒ æˆ¿é—´ç æ ¼å¼é”™è¯¯ï¼æ­£ç¡®æ ¼å¼ä¸ºã€Œå¯†é’¥|éšæœºæ ‡è¯†ã€",
        "roomCodeInvalid": "âŒ æˆ¿é—´ç æ— æ•ˆï¼Œå¯†é’¥é•¿åº¦é”™è¯¯ï¼",
        "encryptInputEmpty": "âŒ è¯·è¾“å…¥å¾…åŠ å¯†å†…å®¹ï¼",
        "roomCodeRequired": "âŒ è¯·è¾“å…¥æˆ–ç”Ÿæˆæˆ¿é—´ç ï¼",
        "encryptTextEmpty": "âŒ è¯·è¾“å…¥å¾…è§£å¯†çš„å¯†æ–‡ï¼",
        "inputRoomCodeRequired": "âŒ è¯·è¾“å…¥æˆ¿é—´ç ï¼",
        "encryptTextFormatError": "âŒ å¯†æ–‡æ ¼å¼é”™è¯¯ï¼æ­£ç¡®æ ¼å¼ä¸ºã€ŒIV|å¯†æ–‡ã€",
        "decryptFailed": "âŒ è§£å¯†å¤±è´¥ï¼å¯èƒ½æ˜¯æˆ¿é—´ç é”™è¯¯æˆ–å¯†æ–‡è¢«ç¯¡æ”¹"
    },
    "zh-TW": {
        "title": "âœ¨ AES åŠ å¯†éŽ–",
        "inputContent": "1. å¾…è™•ç†å…§å®¹ï¼ˆæ˜Žæ–‡/å¯†æ–‡ï¼‰",
        "inputContentPlaceholder": "è«‹è¼¸å…¥æ˜Žæ–‡ï¼ˆåŠ å¯†ï¼‰æˆ–å¯†æ–‡ï¼ˆè§£å¯†ï¼‰...",
        "paste": "è²¼ä¸Š",
        "roomCode": "2. æˆ¿é–“ç¢¼ï¼ˆå¯è¼¸å…¥/è‡ªå‹•ç”Ÿæˆï¼Œå«é‡‘é‘°ï¼‰",
        "roomCodePlaceholder": "è¼¸å…¥æˆ–é»žæ“Šç”Ÿæˆç¨ä¸€ç„¡äºŒçš„æˆ¿é–“ç¢¼",
        "generateRoomCode": "ç”Ÿæˆæˆ¿é–“ç¢¼",
        "copy": "è¤‡è£½",
        "inputRoomCode": "3. è¼¸å…¥æˆ¿é–“ç¢¼ï¼ˆç”¨æ–¼è§£å¯†ï¼‰",
        "inputRoomCodePlaceholder": "è«‹è¼¸å…¥å°æ–¹åˆ†äº«çš„æˆ¿é–“ç¢¼...",
        "encrypt": "åŠ å¯†",
        "decrypt": "è§£å¯†",
        "encryptResult": "åŠ å¯†çµæžœ",
        "encryptResultPlaceholder": "åŠ å¯†å¾Œçš„å…§å®¹å°‡é¡¯ç¤ºåœ¨é€™è£¡...",
        "decryptResult": "è§£å¯†çµæžœ",
        "decryptResultPlaceholder": "è§£å¯†å¾Œçš„å…§å®¹å°‡é¡¯ç¤ºåœ¨é€™è£¡...",
        "tip": "ðŸ”’ æç¤ºï¼šæˆ¿é–“ç¢¼åŒ…å«åŠ å¯†é‡‘é‘°ï¼Œè«‹å‹¿æ´©éœ²çµ¦ç„¡é—œäººå“¡ | åŠ å¯†æŽ¡ç”¨AES-128-CBCæ¼”ç®—æ³•ï¼Œå®‰å…¨å¯é  | æ•¸æ“šä¸æœƒä¸Šå‚³ä¼ºæœå™¨",
        "copySuccess": "è¤‡è£½æˆåŠŸï¼",
        "copyEmpty": "âŒ å…§å®¹ç‚ºç©ºï¼Œç„¡æ³•è¤‡è£½ï¼",
        "copyFailed": "âŒ è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ï¼",
        "pasteFailed": "âŒ è²¼ä¸Šå¤±æ•—ï¼Œè«‹æ‰‹å‹•è²¼ä¸Šï¼",
        "roomCodeFormatError": "âŒ æˆ¿é–“ç¢¼æ ¼å¼éŒ¯èª¤ï¼æ­£ç¢ºæ ¼å¼ç‚ºã€Œé‡‘é‘°|éš¨æ©Ÿæ¨™è­˜ã€",
        "roomCodeInvalid": "âŒ æˆ¿é–“ç¢¼ç„¡æ•ˆï¼Œé‡‘é‘°é•·åº¦éŒ¯èª¤ï¼",
        "encryptInputEmpty": "âŒ è«‹è¼¸å…¥å¾…åŠ å¯†å…§å®¹ï¼",
        "roomCodeRequired": "âŒ è«‹è¼¸å…¥æˆ–ç”Ÿæˆæˆ¿é–“ç¢¼ï¼",
        "encryptTextEmpty": "âŒ è«‹è¼¸å…¥å¾…è§£å¯†çš„å¯†æ–‡ï¼",
        "inputRoomCodeRequired": "âŒ è«‹è¼¸å…¥æˆ¿é–“ç¢¼ï¼",
        "encryptTextFormatError": "âŒ å¯†æ–‡æ ¼å¼éŒ¯èª¤ï¼æ­£ç¢ºæ ¼å¼ç‚ºã€ŒIV|å¯†æ–‡ã€",
        "decryptFailed": "âŒ è§£å¯†å¤±æ•—ï¼å¯èƒ½æ˜¯æˆ¿é–“ç¢¼éŒ¯èª¤æˆ–å¯†æ–‡è¢«ç«„æ”¹"
    },
    "en-US": {
        "title": "âœ¨ AES Locker",
        "inputContent": "1. Content to Process (Plaintext/Ciphertext)",
        "inputContentPlaceholder": "Enter plaintext (encrypt) or ciphertext (decrypt)...",
        "paste": "Paste",
        "roomCode": "2. Room Code (Enter/ Auto-generated, contains key)",
        "roomCodePlaceholder": "Enter or click to generate a unique room code",
        "generateRoomCode": "Generate Room Code",
        "copy": "Copy",
        "inputRoomCode": "3. Enter Room Code (For decryption)",
        "inputRoomCodePlaceholder": "Enter the room code shared by the other party...",
        "encrypt": "Encrypt",
        "decrypt": "Decrypt",
        "encryptResult": "Encryption Result",
        "encryptResultPlaceholder": "Encrypted content will appear here...",
        "decryptResult": "Decryption Result",
        "decryptResultPlaceholder": "Decrypted content will appear here...",
        "tip": "ðŸ”’ Note: Room code contains encryption key, do not share with unauthorized persons | Uses AES-128-CBC algorithm, secure and reliable | No data is uploaded to servers",
        "copySuccess": "Copied successfully!",
        "copyEmpty": "âŒ Content is empty, cannot copy!",
        "copyFailed": "âŒ Copy failed, please copy manually!",
        "pasteFailed": "âŒ Paste failed, please paste manually!",
        "roomCodeFormatError": "âŒ Invalid room code format! Correct format is \"key|random tag\"",
        "roomCodeInvalid": "âŒ Invalid room code, wrong key length!",
        "encryptInputEmpty": "âŒ Please enter content to encrypt!",
        "roomCodeRequired": "âŒ Please enter or generate a room code!",
        "encryptTextEmpty": "âŒ Please enter ciphertext to decrypt!",
        "inputRoomCodeRequired": "âŒ Please enter a room code!",
        "encryptTextFormatError": "âŒ Invalid ciphertext format! Correct format is \"IV|ciphertext\"",
        "decryptFailed": "âŒ Decryption failed! Possible wrong room code or tampered ciphertext"
    },
    "en-GB": {
        "title": "âœ¨ AESLocker",
        "inputContent": "1. Content to Process (Plaintext/Ciphertext)",
        "inputContentPlaceholder": "Enter plaintext (encrypt) or ciphertext (decrypt)...",
        "paste": "Paste",
        "roomCode": "2. Room Code (Enter/ Auto-generated, contains key)",
        "roomCodePlaceholder": "Enter or click to generate a unique room code",
        "generateRoomCode": "Generate Room Code",
        "copy": "Copy",
        "inputRoomCode": "3. Enter Room Code (For decryption)",
        "inputRoomCodePlaceholder": "Enter the room code shared by the other party...",
        "encrypt": "Encrypt",
        "decrypt": "Decrypt",
        "encryptResult": "Encryption Result",
        "encryptResultPlaceholder": "Encrypted content will appear here...",
        "decryptResult": "Decryption Result",
        "decryptResultPlaceholder": "Decrypted content will appear here...",
        "tip": "ðŸ”’ Note: Room code contains encryption key, do not share with unauthorised persons | Uses AES-128-CBC algorithm, secure and reliable | No data is uploaded to servers",
        "copySuccess": "Copied successfully!",
        "copyEmpty": "âŒ Content is empty, cannot copy!",
        "copyFailed": "âŒ Copy failed, please copy manually!",
        "pasteFailed": "âŒ Paste failed, please paste manually!",
        "roomCodeFormatError": "âŒ Invalid room code format! Correct format is \"key|random tag\"",
        "roomCodeInvalid": "âŒ Invalid room code, wrong key length!",
        "encryptInputEmpty": "âŒ Please enter content to encrypt!",
        "roomCodeRequired": "âŒ Please enter or generate a room code!",
        "encryptTextEmpty": "âŒ Please enter ciphertext to decrypt!",
        "inputRoomCodeRequired": "âŒ Please enter a room code!",
        "encryptTextFormatError": "âŒ Invalid ciphertext format! Correct format is \"IV|ciphertext\"",
        "decryptFailed": "âŒ Decryption failed! Possible wrong room code or tampered ciphertext"
    },
    "es": {
        "title": "âœ¨ Candado AES",
        "inputContent": "1. Contenido a Procesar (Texto Plano/Cifrado)",
        "inputContentPlaceholder": "Ingrese texto plano (cifrar) o texto cifrado (descifrar)...",
        "paste": "Pegar",
        "roomCode": "2. CÃ³digo de Sala (Ingresar/Generado automÃ¡ticamente, contiene clave)",
        "roomCodePlaceholder": "Ingrese o haga clic para generar un cÃ³digo de sala Ãºnico",
        "generateRoomCode": "Generar CÃ³digo de Sala",
        "copy": "Copiar",
        "inputRoomCode": "3. Ingresar CÃ³digo de Sala (Para descifrar)",
        "inputRoomCodePlaceholder": "Ingrese el cÃ³digo de sala compartido por la otra parte...",
        "encrypt": "Cifrar",
        "decrypt": "Descifrar",
        "encryptResult": "Resultado de Cifrado",
        "encryptResultPlaceholder": "El contenido cifrado aparecerÃ¡ aquÃ­...",
        "decryptResult": "Resultado de Descifrado",
        "decryptResultPlaceholder": "El contenido descifrado aparecerÃ¡ aquÃ­...",
        "tip": "ðŸ”’ Nota: El cÃ³digo de sala contiene la clave de cifrado, no lo comparta con personas no autorizadas | Usa el algoritmo AES-128-CBC, seguro y fiable | No se sube ningÃºn dato a servidores",
        "copySuccess": "Â¡Copiado exitosamente!",
        "copyEmpty": "âŒ El contenido estÃ¡ vacÃ­o, no se puede copiar!",
        "copyFailed": "âŒ Error al copiar, por favor copie manualmente!",
        "pasteFailed": "âŒ Error al pegar, por favor pegue manualmente!",
        "roomCodeFormatError": "âŒ Formato de cÃ³digo de sala invÃ¡lido! El formato correcto es \"clave|etiqueta aleatoria\"",
        "roomCodeInvalid": "âŒ CÃ³digo de sala invÃ¡lido, longitud de clave incorrecta!",
        "encryptInputEmpty": "âŒ Por favor ingrese el contenido para cifrar!",
        "roomCodeRequired": "âŒ Por favor ingrese o genere un cÃ³digo de sala!",
        "encryptTextEmpty": "âŒ Por favor ingrese el texto cifrado para descifrar!",
        "inputRoomCodeRequired": "âŒ Por favor ingrese un cÃ³digo de sala!",
        "encryptTextFormatError": "âŒ Formato de texto cifrado invÃ¡lido! El formato correcto es \"IV|texto cifrado\"",
        "decryptFailed": "âŒ Error al descifrar! Posible cÃ³digo de sala incorrecto o texto cifrado alterado"
    },
    "ru": {
        "title": "âœ¨ Ð¨Ð¸Ñ„Ñ€ AES (Shifr AES)",
        "inputContent": "1. Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ð´Ð»Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ (Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚/ÑˆÐ¸Ñ„Ñ€Ñ‚ÐµÐºÑÑ‚)",
        "inputContentPlaceholder": "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚ (ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ) Ð¸Ð»Ð¸ ÑˆÐ¸Ñ„Ñ€Ñ‚ÐµÐºÑÑ‚ (Ð´ÐµÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)...",
        "paste": "Ð’ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ",
        "roomCode": "2. ÐšÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ (Ð²Ð²ÐµÑÑ‚Ð¸/Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ, ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ ÐºÐ»ÑŽÑ‡)",
        "roomCodePlaceholder": "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð»Ð¸ Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹",
        "generateRoomCode": "Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹",
        "copy": "ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",
        "inputRoomCode": "3. Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ (Ð´Ð»Ñ Ð´ÐµÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ)",
        "inputRoomCodePlaceholder": "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ñ‚ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹...",
        "encrypt": "Ð—Ð°ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",
        "decrypt": "Ð Ð°ÑÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",
        "encryptResult": "Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ",
        "encryptResultPlaceholder": "Ð—Ð°ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ð·Ð´ÐµÑÑŒ...",
        "decryptResult": "Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð´ÐµÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ",
        "decryptResultPlaceholder": "Ð Ð°ÑÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ð·Ð´ÐµÑÑŒ...",
        "tip": "ðŸ”’ ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ: ÐšÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ ÐºÐ»ÑŽÑ‡ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ, Ð½Ðµ Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ð¸Ð¼ Ñ Ð½ÐµÐ°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð»Ð¸Ñ†Ð°Ð¼Ð¸ | Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼ AES-128-CBC, Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐµÐ½ Ð¸ Ð½Ð°Ð´ÐµÐ¶ÐµÐ½ | Ð”Ð°Ð½Ð½Ñ‹Ðµ ÐÐµ ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽÑ‚ÑÑ ÐÐ° Ð¡ÐµÑ€Ð²ÐµÑ€Ñ‹",
        "copySuccess": "Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾!",
        "copyEmpty": "âŒ ÐšÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð¿ÑƒÑÑ‚, Ð½Ðµ ÑƒÐ´Ð°ÐµÑ‚ÑÑ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ!",
        "copyFailed": "âŒ ÐžÑˆÐ¸Ð±ÐºÐ° ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, ÑÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ!",
        "pasteFailed": "âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð²ÑÑ‚Ð°Ð²ÐºÐ¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ!",
        "roomCodeFormatError": "âŒ ÐÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ ÐºÐ¾Ð´Ð° ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹! ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚: \"ÐºÐ»ÑŽÑ‡|ÑÐ»ÑƒÐ¶ÐµÐ±Ð½Ð°Ñ Ð¼ÐµÑ‚ÐºÐ°\"",
        "roomCodeInvalid": "âŒ ÐÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹, Ð½ÐµÐ²ÐµÑ€Ð½Ð°Ñ Ð´Ð»Ð¸Ð½Ð° ÐºÐ»ÑŽÑ‡Ð°!",
        "encryptInputEmpty": "âŒ ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð´Ð»Ñ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ!",
        "roomCodeRequired": "âŒ ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð»Ð¸ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÐºÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹!",
        "encryptTextEmpty": "âŒ ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑˆÐ¸Ñ„Ñ€Ñ‚ÐµÐºÑÑ‚ Ð´Ð»Ñ Ð´ÐµÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ!",
        "inputRoomCodeRequired": "âŒ ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹!",
        "encryptTextFormatError": "âŒ ÐÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ ÑˆÐ¸Ñ„Ñ€Ñ‚ÐµÐºÑÑ‚Ð°! ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚: \"IV|ÑˆÐ¸Ñ„Ñ€Ñ‚ÐµÐºÑÑ‚\"",
        "decryptFailed": "âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð´ÐµÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ! Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, Ð½ÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð½Ñ‹Ð¹ ÑˆÐ¸Ñ„Ñ€Ñ‚ÐµÐºÑÑ‚"
    },
    "de": {
        "title": "âœ¨ AES-Schloss",
        "inputContent": "1. Zu verarbeitender Inhalt (Klartext/Chiffretext)",
        "inputContentPlaceholder": "Geben Sie Klartext (VerschlÃ¼sseln) oder Chiffretext (EntschlÃ¼sseln) ein...",
        "paste": "EinfÃ¼gen",
        "roomCode": "2. Raumcode (Eingeben/Automatisch generiert, enthÃ¤lt SchlÃ¼ssel)",
        "roomCodePlaceholder": "Geben Sie ein oder klicken Sie, um einen eindeutigen Raumcode zu generieren",
        "generateRoomCode": "Raumcode generieren",
        "copy": "Kopieren",
        "inputRoomCode": "3. Raumcode eingeben (zum EntschlÃ¼sseln)",
        "inputRoomCodePlaceholder": "Geben Sie den von der anderen Seite geteilten Raumcode ein...",
        "encrypt": "VerschlÃ¼sseln",
        "decrypt": "EntschlÃ¼sseln",
        "encryptResult": "VerschlÃ¼sselungsergebnis",
        "encryptResultPlaceholder": "VerschlÃ¼sselter Inhalt wird hier angezeigt...",
        "decryptResult": "EntschlÃ¼sselungsergebnis",
        "decryptResultPlaceholder": "EntschlÃ¼sselter Inhalt wird hier angezeigt...",
        "tip": "ðŸ”’ Hinweis: Der Raumcode enthÃ¤lt den VerschlÃ¼sselungsschlÃ¼ssel, teilen Sie ihn nicht mit unbefugten Personen | Verwendet den AES-128-CBC-Algorithmus, sicher und zuverlÃ¤ssig | Keine Daten werden an Server Ã¼bertragen",
        "copySuccess": "Erfolgreich kopiert!",
        "copyEmpty": "âŒ Inhalt ist leer, kann nicht kopiert werden!",
        "copyFailed": "âŒ Kopieren fehlgeschlagen, bitte manuell kopieren!",
        "pasteFailed": "âŒ EinfÃ¼gen fehlgeschlagen, bitte manuell einfÃ¼gen!",
        "roomCodeFormatError": "âŒ UngÃ¼ltiges Raumcode-Format! Korrektes Format ist \"SchlÃ¼ssel|zufÃ¤llige Kennzeichnung\"",
        "roomCodeInvalid": "âŒ UngÃ¼ltiger Raumcode, falsche SchlÃ¼ssellÃ¤nge!",
        "encryptInputEmpty": "âŒ Bitte geben Sie den zu verschlÃ¼sselnden Inhalt ein!",
        "roomCodeRequired": "âŒ Bitte geben Sie einen Raumcode ein oder generieren Sie einen!",
        "encryptTextEmpty": "âŒ Bitte geben Sie den zu entschlÃ¼sselnden Chiffretext ein!",
        "inputRoomCodeRequired": "âŒ Bitte geben Sie einen Raumcode ein!",
        "encryptTextFormatError": "âŒ UngÃ¼ltiges Format des Chiffretextes! Korrektes Format ist \"IV|Chiffretext\"",
        "decryptFailed": "âŒ EntschlÃ¼sselung fehlgeschlagen! MÃ¶glicherweise falscher Raumcode oder manipulierter Chiffretext"
    }
};
const AES_MODE = CryptoJS.mode.CBC;
const AES_PADDING = CryptoJS.pad.Pkcs7;
const copyToast = document.getElementById('copyToast');

function switchLanguage(lang) {
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                el.placeholder = translations[lang][key];
            } else {
                el.textContent = translations[lang][key];
            }
        }
    });
    document.documentElement.lang = lang;
}

document.addEventListener('DOMContentLoaded', () => {
    const browserLang = navigator.language || navigator.userLanguage;
    const supportedLangs = Object.keys(translations);
    const initialLang = supportedLangs.includes(browserLang) ? browserLang : 'zh-CN';
    document.getElementById('languageSelect').value = initialLang;
    switchLanguage(initialLang);
});

async function pasteFromClipboard(targetId) {
    const target = document.getElementById(targetId);
    const lang = document.getElementById('languageSelect').value;
    try {
        target.placeholder = translations[lang]['loading'] || "æ­£åœ¨è¯»å–å‰ªåˆ‡æ¿...";
        const text = await navigator.clipboard.readText();
        target.value = text;
        target.style.borderColor = "#2ecc71";
        setTimeout(() => {
            target.style.borderColor = "";
        }, 1000);
    } catch (err) {
        alert(translations[lang]['pasteFailed'] || 'âŒ ç²˜è´´å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨ç²˜è´´ï¼');
    } finally {
        target.placeholder = targetId === 'plainText' 
            ? translations[lang]['inputContentPlaceholder'] 
            : targetId === 'roomCode'
                ? translations[lang]['roomCodePlaceholder']
                : translations[lang]['inputRoomCodePlaceholder'];
    }
}

async function copyToClipboard(targetId) {
    const target = document.getElementById(targetId);
    const text = target.value;
    const button = event.currentTarget;
    const lang = document.getElementById('languageSelect').value;
    if (!text) {
        alert(translations[lang]['copyEmpty'] || 'âŒ å†…å®¹ä¸ºç©ºï¼Œæ— æ³•å¤åˆ¶ï¼');
        return;
    }
    try {
        await navigator.clipboard.writeText(text);
        copyToast.classList.add('show');
        setTimeout(() => {
            copyToast.classList.remove('show');
        }, 2000);
        button.style.transform = "scale(0.95)";
        setTimeout(() => {
            button.style.transform = "";
        }, 100);
    } catch (err) {
        try {
            target.select();
            target.setSelectionRange(0, 99999);
            if (document.execCommand('copy')) {
                copyToast.classList.add('show');
                setTimeout(() => {
                    copyToast.classList.remove('show');
                }, 2000);
                button.style.transform = "scale(0.95)";
                setTimeout(() => {
                    button.style.transform = "";
                }, 100);
            } else {
                alert(translations[lang]['copyFailed'] || 'âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ï¼');
            }
        } catch (fallbackErr) {
            alert(translations[lang]['copyFailed'] || 'âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ï¼');
        }
    }
}

function generateRoomCode() {
    const roomCodeInput = document.getElementById('roomCode');
    const lang = document.getElementById('languageSelect').value;
    roomCodeInput.placeholder = translations[lang]['generating'] || "æ­£åœ¨ç”Ÿæˆæˆ¿é—´ç ...";
    setTimeout(() => {
        const key = CryptoJS.lib.WordArray.random(16).toString(CryptoJS.enc.Hex);
        const randomTag = Math.random().toString(36).substring(2, 10).toUpperCase();
        const roomCode = `${key}|${randomTag}`;
        roomCodeInput.value = roomCode;
        roomCodeInput.style.borderColor = "#2ecc71";
        setTimeout(() => {
            roomCodeInput.style.borderColor = "";
        }, 1500);
    }, 800);
}

function getKeyFromRoomCode(roomCode) {
    const lang = document.getElementById('languageSelect').value;
    if (!roomCode || !roomCode.includes('|')) {
        alert(translations[lang]['roomCodeFormatError'] || 'âŒ æˆ¿é—´ç æ ¼å¼é”™è¯¯ï¼æ­£ç¡®æ ¼å¼ä¸ºã€Œå¯†é’¥|éšæœºæ ‡è¯†ã€');
        return null;
    }
    const key = roomCode.split('|')[0];
    if (key.length !== 32) {
        alert(translations[lang]['roomCodeInvalid'] || 'âŒ æˆ¿é—´ç æ— æ•ˆï¼Œå¯†é’¥é•¿åº¦é”™è¯¯ï¼');
        return null;
    }
    return key;
}

function encryptData() {
    const plainText = document.getElementById('plainText').value;
    const roomCode = document.getElementById('roomCode').value;
    const encryptResult = document.getElementById('encryptResult');
    const encryptGroup = document.getElementById('encryptGroup');
    const lang = document.getElementById('languageSelect').value;
    if (!plainText) {
        alert(translations[lang]['encryptInputEmpty'] || 'âŒ è¯·è¾“å…¥å¾…åŠ å¯†å†…å®¹ï¼');
        document.getElementById('plainText').focus();
        return;
    }
    if (!roomCode) {
        alert(translations[lang]['roomCodeRequired'] || 'âŒ è¯·è¾“å…¥æˆ–ç”Ÿæˆæˆ¿é—´ç ï¼');
        document.getElementById('roomCode').focus();
        return;
    }
    const key = getKeyFromRoomCode(roomCode);
    if (!key) return;
    encryptResult.placeholder = translations[lang]['encrypting'] || "æ­£åœ¨åŠ å¯†...";
    encryptResult.value = "";
    encryptGroup.style.opacity = "0.7";
    setTimeout(() => {
        const iv = CryptoJS.lib.WordArray.random(16);
        const encrypted = CryptoJS.AES.encrypt(
            plainText,
            CryptoJS.enc.Hex.parse(key),
            { iv: iv, mode: AES_MODE, padding: AES_PADDING }
        );
        // åªä½¿ç”¨Base64ç¼–ç ï¼Œä¸å†åšäºŒæ¬¡åŽ‹ç¼©
        const ivB64 = iv.toString(CryptoJS.enc.Base64);
        const cipherB64 = encrypted.ciphertext.toString(CryptoJS.enc.Base64);
        const result = `${ivB64}|${cipherB64}`;
        encryptResult.value = result;
        encryptGroup.style.opacity = "1";
        encryptResult.style.borderColor = "#e74c3c";
        setTimeout(() => {
            encryptResult.style.borderColor = "";
        }, 1500);
    }, 1000);
}

function decryptData() {
    const encryptText = document.getElementById('plainText').value; // æ”¹ä¸ºè¯»å–ç¬¬ä¸€è¡Œè¾“å…¥çš„å¯†æ–‡
    const roomCode = document.getElementById('inputRoomCode').value;
    const decryptResult = document.getElementById('decryptResult');
    const decryptGroup = document.getElementById('decryptGroup');
    const lang = document.getElementById('languageSelect').value;
    if (!encryptText) {
        alert(translations[lang]['encryptTextEmpty'] || 'âŒ è¯·è¾“å…¥å¾…è§£å¯†çš„å¯†æ–‡ï¼');
        document.getElementById('plainText').focus();
        return;
    }
    if (!roomCode) {
        alert(translations[lang]['inputRoomCodeRequired'] || 'âŒ è¯·è¾“å…¥æˆ¿é—´ç ï¼');
        document.getElementById('inputRoomCode').focus();
        return;
    }
    const key = getKeyFromRoomCode(roomCode);
    if (!key) return;
    if (!encryptText.includes('|')) {
        alert(translations[lang]['encryptTextFormatError'] || 'âŒ å¯†æ–‡æ ¼å¼é”™è¯¯ï¼');
        return;
    }
    decryptResult.placeholder = translations[lang]['decrypting'] || "æ­£åœ¨è§£å¯†...";
    decryptResult.value = "";
    decryptGroup.style.opacity = "0.7";
    setTimeout(() => {
        const [ivB64, cipherB64] = encryptText.split('|');
        // ç›´æŽ¥Base64è§£ç ï¼Œä¸å†éœ€è¦è§£åŽ‹ç¼©
        const iv = CryptoJS.enc.Base64.parse(ivB64);
        const ciphertext = CryptoJS.enc.Base64.parse(cipherB64);
        try {
            const decrypted = CryptoJS.AES.decrypt(
                { ciphertext: ciphertext },
                CryptoJS.enc.Hex.parse(key),
                { iv: iv, mode: AES_MODE, padding: AES_PADDING }
            );
            const plainText = decrypted.toString(CryptoJS.enc.Utf8);
            if (!plainText) throw new Error();
            decryptResult.value = plainText;
            decryptResult.style.borderColor = "#f39c12";
            setTimeout(() => {
                decryptResult.style.borderColor = "";
            }, 1500);
        } catch (err) {
            decryptResult.value = translations[lang]['decryptFailed'] || "âŒ è§£å¯†å¤±è´¥ï¼å¯èƒ½æ˜¯æˆ¿é—´ç é”™è¯¯æˆ–å¯†æ–‡è¢«ç¯¡æ”¹";
            decryptResult.style.color = "#e74c3c";
            setTimeout(() => {
                decryptResult.style.color = "";
            }, 2000);
        } finally {
            decryptGroup.style.opacity = "1";
        }
    }, 1000);
}

window.onload = function() {
    const container = document.querySelector('.container');
    container.style.opacity = "0";
    container.style.transform = "translateY(30px)";
    setTimeout(() => {
        container.style.opacity = "1";
        container.style.transform = "translateY(0)";
    }, 300);
};
